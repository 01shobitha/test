<?xml version="1.0" encoding="iso-8859-1" ?>

<sect2><title> 
Description del stream output
</title>

<para>
El stream output de VLC permite que éste sea
usado como un servidor de streaming en lugar de como cliente.
Posee un gran número de funcionalidades
:</para>

<itemizedlist>

<listitem><para>
transmite tanto en unicast como en multicast, sobre IPv4
o IPv6, todo lo que VLC es capaz de leer, vía UDP, RTP o HTTP
;</para></listitem>

<listitem><para>
guardar el flujo de entrada como un fichero AVI, PS, TS o
OGG
;</para></listitem>

<listitem><para>
transcodificar un flujo de entrada, y después enviarlo a una
red o a un fichero
.</para></listitem>

</itemizedlist>

<para>
Para saber más acerca de las funcionalidades del
stream output de VLC, mírese la <ulink url="http://www.videolan.org/streaming/features.html">
página de funcionalidades de streaming</ulink>
.</para>

</sect2>

<sect2><title>
Arquitectura y sintaxis
</title>

<para>
el stream output posee una poderosa arquitectura
que utiliza módulos. Cada módulo aporta una serie de funcionalidades,
y es posible <emphasis>encadenar</emphasis> los módulos para combinar
estas posibilidades
.</para>

<para>
Esta es la lista de módulos disponibles actualmente
:</para>

<itemizedlist>

<listitem><para><emphasis>standard</emphasis>
"transmite" el flujo a través de un <emphasis>módulo de
salida</emphasis>: por ejemplo, UDP, fichero, HTTP, ... Probablemente,
usted utilizará este módulo al final de sus cadenas
.</para></listitem>

<listitem><para><emphasis>transcode</emphasis>
 le permite transcodificar el audio y el vídeo del
flujo de entrada "al vuelo" (si su computadora es suficientemente potente)
.</para></listitem>

<listitem><para><emphasis>duplicate</emphasis>
 allows you to create a second chain, where the
stream will be handled in an independant way
.</para></listitem>

<listitem><para><emphasis>display</emphasis> 
le permite mostrar el flujo de entrada, como lo haría
VLC normalmente. Usado junto al módulo <emphasis>duplicate</emphasis>,
le permitirá ver el flujo al mismo tiempo que lo envía
.</para></listitem>

<listitem><para><emphasis>es</emphasis> 
le permite separar los Elementary Streams (ES)
de un flujo de entrada
.</para></listitem>

</itemizedlist>

<para>
Cada uno de estos módulos acepta opciones. Esta es la
sintaxis que debe usar
:</para>

<screen>
<prompt>% </prompt><userinput>vlc input_stream --sout '#module1{option1=...,option2=...}:module2{option1=...,option2=...}:...'</userinput>
</screen>

<para>
Por ejemplo, para transcodificar un flujo y enviarlo, use
:</para>

<screen>
<prompt>% </prompt><userinput>vlc input_stream --sout '#transcode{options}:standard{options}'</userinput>
</screen>

</sect2>

<sect2><title>
Descripción de los módulos
</title>

<sect3><title>standard (alias std)</title>

<para>
Transmite un flujo
.</para>

<para>
Options
:</para>

<itemizedlist>

<listitem><para><emphasis>access</emphasis>: 
cómo enviar
<emphasis>file</emphasis>, <emphasis>udp</emphasis>,
<emphasis>rtp</emphasis>, <emphasis>http</emphasis>
.</para></listitem>

<listitem><para><emphasis>mux</emphasis>: 
qué multiplexor (formato) utilizar?. Puede ser
uno de éstos:
<emphasis>avi</emphasis>
  (formato AVI)
<emphasis>ogg</emphasis> 
  (formato Ogg)
<emphasis>ps</emphasis>
  (formato MPEG2-PS)
<emphasis>ts</emphasis> 
   (formato MPEG2-TS)
.</para></listitem>

<listitem><para><emphasis>url</emphasis>: 
si utiliza el acceso
<emphasis>file</emphasis>, será la localización donde se
guardará el flujo; si usa otro accceso, será la dirección unicast o multicast
a la cual quiere transmitir
.</para></listitem>

<listitem><para><emphasis>sap</emphasis>: 
si utiliza los accesos <emphasis>udp</emphasis> o
<emphasis>rtp</emphasis>, use esta opción para anunciar el flujo
usando SAP/SDP. Esta opción contiene el nombre con el cual será anunciado
el programa
.</para></listitem>

<listitem><para><emphasis>slp</emphasis>: 
como sap, pero utiliza el protocolo SLP. Necesita
tener instalado libslp en su sistema
.</para></listitem>

<listitem><para><emphasis>sap_ipv</emphasis>: 
si utiliza la opción <emphasis>sap</emphasis>,
utilice esta opción para especificar si quiere enviar los anuncios SAP
sobre IPv4 or IPv6. El valor de esta opción es <emphasis>4</emphasis> ó
<emphasis>6</emphasis>
.</para></listitem>

</itemizedlist>

<note><para>
Si está transmitiendo en multicast, puede utilizar
la opción global <command>--ttl 12</command> para establecer el valor de
TTL a un valor superior a 1
.</para></note>

</sect3>

<sect3><title>display</title>

<para>
Muestra el flujo
.</para>

<para>
Options:
</para>

<itemizedlist>

<listitem><para><emphasis>noaudio</emphasis>:
Ignorar el audio
.</para></listitem>

<listitem><para><emphasis>novideo</emphasis>:
Ignorar el vídeo
.</para></listitem>

</itemizedlist>

</sect3>

<sect3><title>duplicate</title>

<para>
Duplica el flujo a una nueva cadena
.</para>

<para>
Options:
</para>

<itemizedlist>

<listitem><para><emphasis>dst</emphasis>: 
Una nueva cadena de módulos, como se describe
anteriormente
.</para></listitem>

</itemizedlist>

</sect3>

<sect3><title>transcode</title>

<para>
Cambia el formato de compresión y/o la tasa de
compresión de un flujo
.</para>

<para>
Options:
</para>

<itemizedlist>

<listitem><para><emphasis>acodec</emphasis>: 
nuevo formato de audio. Puede ser uno de los siguientes: 
<emphasis>mpga</emphasis> (MPEG audio layer 2), <emphasis>a52</emphasis>
or <emphasis>ac3</emphasis> (sonido AC3) o <emphasis>vorb</emphasis>
(Vorbis)
.</para>
</listitem>

<listitem><para><emphasis>ab</emphasis>: 
tasa de compresión de audio, en Kbps
.</para></listitem>

<!-- UNIMPLEMENTED for the moment 
<listitem><para><emphasis>samplerate</emphasis>: audio encoding rate in Hz
(44000 for a CD, for example).</para></listitem> -->

<!-- UNIMPLMENETED <listitem><para><emphasis>channels</emphasis>: number of audio
channels.</para></listitem>  -->

<listitem><para><emphasis>vcodec</emphasis>: 
nuevo formato de vídeo. Puede ser uno de los siguiente: 
<emphasis>mp4v</emphasis> (MPEG4), <emphasis>mpgv</emphasis>
(MPEG1), <emphasis>DIV1</emphasis>, <emphasis>DIV2</emphasis>,
<emphasis>DIV3</emphasis> (DivX 1,2,3), <emphasis>H263</emphasis>
(H263), <emphasis>I263</emphasis> (H263I), <emphasis>WMV1</emphasis>
or <emphasis>WMV2</emphasis> (Windows Media Video 1 or 2),
<emphasis>MJPG</emphasis> (MJPEG), <emphasis>MJPB</emphasis>
(MJPEGB)
.</para></listitem>

<listitem><para><emphasis>width</emphasis>:
ancho del video
.</para></listitem>

<listitem><para><emphasis>height</emphasis>:
alto del vídeo
.</para></listitem>

<listitem><para><emphasis>vb</emphasis>: 
tasa de compresión de vídeo, en kbps
.</para></listitem>

<listitem><para><emphasis>vt</emphasis>: 
tolerancia del bitrate de vídeo, en bps
.</para></listitem>

<listitem><para><emphasis>deinterlace</emphasis>: 
activa el desentrelazado
.</para></listitem>

<listitem><para><emphasis>croptop</emphasis>: 
número de pixels eliminados de la parte superior del vídeo
.</para></listitem>

<listitem><para><emphasis>cropbottom</emphasis>: 
número de pixels eliminados de la parte inferior del vídeo
.</para></listitem>

<listitem><para><emphasis>cropleft</emphasis>: 
número de pixels eliminados de la parte izquierda del vídeo
.</para></listitem>

<listitem><para><emphasis>cropright</emphasis>: 
número de píxels eliminados de la parte derecha del vídeo
.</para></listitem>

<listitem><para><emphasis>hq</emphasis>: 
alta calidad de transcodificación (usa más CPU)
.</para></listitem>

<listitem><para><emphasis>qmin</emphasis>: 
FIXME
</para></listitem>

<listitem><para><emphasis>qmax</emphasis>:
FIXME
.</para></listitem>

</itemizedlist>

</sect3>

<sect3><title>es</title>

<para>
Separa los Elementary Streams
.</para>

<para>Options:</para>

<itemizedlist>

<listitem><para><emphasis>access_audio</emphasis>:
cómo enviar la pista de audio:
<emphasis>file</emphasis>, <emphasis>udp</emphasis>,
<emphasis>rtp</emphasis> o <emphasis>http</emphasis>
.</para></listitem>

<listitem><para><emphasis>access_video</emphasis>: 
cómo enviar la pista de vídeo:
<emphasis>file</emphasis>, <emphasis>udp</emphasis>,
<emphasis>rtp</emphasis> o <emphasis>http</emphasis>
.</para></listitem>

<listitem><para><emphasis>access</emphasis>:
 si desea utilizar el mismo acceso para el audio y
el vídeo, utilice esta opción en lugar de las dos anteriores
.</para></listitem>


<listitem><para><emphasis>mux_audio</emphasis>: 
qué multiplexor (formato) será empleado para
la pista de audio. Puede ser: <emphasis>avi</emphasis> (formato AVI),
<emphasis>ogg</emphasis> (formato OGG), <emphasis>ps</emphasis> (formato
MPEG2-PS), <emphasis>ts</emphasis> (formato MPEG2-TS)
.</para></listitem>

<listitem><para><emphasis>mux_video</emphasis>:
qué multiplexor (formato) será usado para la
pista de vídeo. Puede ser: <emphasis>avi</emphasis> (formato AVI),
<emphasis>ogg</emphasis> (formato OGG), <emphasis>ps</emphasis> (formato
MPEG2-PS), <emphasis>ts</emphasis> (formato MPEG2-TS)
.</para></listitem>

<listitem><para><emphasis>mux</emphasis>: 
 si desea utilizar el mismo multiplexor para el audio
y el vídeo, utilice esta opción en lugar de las dos anteriores
.</para></listitem>


<listitem><para><emphasis>url_audio</emphasis>: 
si utiliza el acceso <emphasis>file</emphasis>, será
la localización en la que se guardará la pista de audio; si utiliza otro
acceso, será la dirección IP unicast o multicast a la que se
transmitirá
.</para></listitem>

<listitem><para><emphasis>url_video</emphasis>: 
si utiliza el acceso <emphasis>file</emphasis>,
será la localización en la que se guardará la pista de vídeo; si utiliza otro
acceso, será la dirección IP unicast o multicast a la que se
transmitirá
.</para></listitem>

<listitem><para><emphasis>url</emphasis>:
 si desea que el audio y el video utilicen la misma dirección,
utilice esta opción en lugar de las dos anteriores
.</para></listitem>

</itemizedlist>

<note><para>
En las opciones <emphasis>url</emphasis>, si utiliza el
acceso <emphasis>file</emphasis>, puede utilizar las siguientes macros en el
nombre del fichero:
</para>

<itemizedlist>

<listitem><para><emphasis>%n</emphasis> = 
número de flujo
<listitem><para><emphasis>%c</emphasis> = FOURCC ;</para></listitem>
<listitem><para><emphasis>%m</emphasis> =
formato
 ;</para></listitem>
<listitem><para><emphasis>%a</emphasis> = access.</para></listitem>

</itemizedlist>

</note>

</sect3>

<sect3><title>
Miscelánea
</title>

<para>
Éstas son algunas opciones globales suplementaras
</para>

<itemizedlist>

<listitem><para><emphasis>--no-sout-audio</emphasis>
desactiva el flujo de salida de audio
.</para></listitem>

<listitem><para><emphasis>--no-sout-video</emphasis> 
desactiva el flujo de salida de vídeo
.</para></listitem>

</itemizedlist>

<para>
 El stream output también ofrece una sintaxis
simplificada, que le permite utilizar las principales opciones del
módulo <emphasis>standard</emphasis>
:</para>

<screen>
<prompt>% </prompt><userinput>vlc input_stream --sout access/mux:url</userinput>
</screen>

<para>
 donde <emphasis>access</emphasis>,
<emphasis>mux</emphasis> y <emphasis>url</emphasis> son como las definidas en
las opciones del módulo standard
.</para>

</sect3>

</sect2>

<sect2><title>
Ejemplos
</title>

<para>
Para entender completamente la compleja sintaxis del
stream output de VLC, por favor, mire los ejemplos de utilización del
VideoLAN HOWTO
.</para>

</sect2>
