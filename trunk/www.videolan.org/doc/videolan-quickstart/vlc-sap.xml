<?xml version="1.0" encoding="iso-8859-1" ?>

<chapter id="vlc-sap"><title id="tvlc-sap">Add a channel information
service</title>

<para>Typing multicast addresses is not very fun... that's why you need
a channel information service ! VideoLAN has implemented a channel
information service based on the SAP/SDP standard. VLC's stream output
can send SAP announces when streaming (on the multicast address
<emphasis>224.2.127.254</emphasis> reserved for this purpose). On the
client side, VLCs receive these annouces and automatically add the
programs announced to their playlist. </para>

<sect1><title>Send announces when streaming with VLC</title>

<para>To send announces with VLC, you need to use the complex syntax of
VLC's stream output, like this:</para>

<screen>
<prompt>% </prompt><userinput>vlc -vvv video1.xyz --sout '#standard{access=udp,url=239.255.12.42,sap="Test Stream"}' --ttl 12</userinput>
</screen>

<para>where <filename>video1.xyz</filename> is the file you want
to stream, <emphasis>239.255.12.42</emphasis> is the multicast IP
address you want to stream on, <emphasis>Test Stream</emphasis> is
the name that will be used for this program in the SAP announces and
<emphasis>12</emphasis> is the value of the TTL (Time To Live) of the
stream and of the SAP announces.</para>

</sect1>

<sect1><title>Start VLC(s) on the client(s)</title>

<para>Start VLC with the <emphasis>sap</emphasis> interface:</para>

<screen>
<prompt>% </prompt><userinput>vlc -vvv --extraintf sap</userinput>
</screen>

<para>Then open the playlist: you should see the names of the programs
announced in SAP. When you double-click on the name of a program,
VLC will subscribe to the multicast address and start to play the stream
!</para>

</sect1>
</chapter>
