<sect2><title>Description of the stream output</title>

<para>To summarize, the stream output allows a stream to get out of VLC.
It now has very extended capabilities. Here are a few examples:</para>

<itemizedlist>

<listitem><para>Stream to network everything that vlc is able to read, via
UDP, RTP or HTTP</para></listitem>

<listitem><para>Save the input stream to file</para></listitem>

<listitem><para>Transcode a stream, and then, send it, to the network or to a
file</para></listitem>

</itemizedlist>

</sect2>

<sect2><title>Architecture and syntax</title>

<para>The stream output uses a powerful architecture that uses modules. Each module has capabilities, and the interessant point is that you can "chain" the modules to enhance the possibilities</para>

<para>At this time, here are the modules that are available</para>

<itemizedlist>

<listitem><para><emphasis>standard</emphasis> "sends" the stream via
an <emphasis>access output</emphasis> module: for example, UDP, file,
HTTP, ... You will probably want to use this module at the end of your
chains.</para></listitem>

<listitem><para><emphasis>transcode</emphasis>. This allows you to
transcode your the stream "on the fly" (if your computer is powerful
enough). You can transcode the audio and the video</para></listitem>

<listitem><para><emphasis>duplicate</emphasis>. This allows you to
create a second chain, where the stream will be handled in a different
way</para></listitem>

<listitem><para><emphasis>display</emphasis>: As its name indicates
it, it displays the stream, as VLC would normally do. Used with
duplicate, this allows you to view the stream as you send it, for
example</para></listitem>

</itemizedlist>

<para>Each of these modules may take options. Here is the syntax that you must use</para>

<screen>
<prompt>% </prompt><userinput>vlc stream --sout '#module1{option1=..,option2=..}:#module2{options}:....'</userinput>
</screen>

<para>For example, to transcode a stream and send it, you would use</para>

<screen>
<prompt>% </prompt><userinput>vlc stream --sout '#transcode{options}:#standard{options}:....'</userinput>
</screen>

</sect2>

<sect2><title>Description of the modules</title>

<sect3><title>standard</title>

<para>Standard sends a stream</para>

<para>Options:</para>

<itemizedlist>

<listitem><para><emphasis>access</emphasis>: how to send :
<emphasis>file</emphasis>, <emphasis>http</emphasis> or
<emphasis>udp</emphasis></para></listitem>

<listitem><para><emphasis>mux</emphasis>: which muxer (ie, which format) will
be used. It can be one of <emphasis>avi</emphasis> (for AVI format),
<emphasis>ogg</emphasis> (for OGG format),<emphasis>ps</emphasis>
(for MPEG2-PS format), <emphasis>ts</emphasis> (for MPEG2-TS
format) or <emphasis>ts_dvbpsi</emphasis> (for MPEG2-TS, using
libdvbpsi).</para></listitem>

<listitem><para><emphasis>url</emphasis>. If you use the <emphasis>file</emphasis> access, it will be the location where to store the stream, if you use another, it will be the URI where you want to stream</para></listitem>

<listitem><para> If you use the UDP streaming, you will have the ability to
announce your stream, using SAP/SDP. Add the <emphasis>sap</emphasis>
options, with the name that you want to announce.</para></listitem>

</itemizedlist>

</sect3>

<sect3><title>display</title>

<para>To display the stream</para>

<para>Options:</para>

<itemizedlist>

<listitem><para><emphasis>noaudio</emphasis>: Ignore audio</para></listitem>

<listitem><para><emphasis>novideo</emphasis>: Ignore video</para></listitem>

</itemizedlist>

</sect3>

<sect3><title>duplicate</title>

<para>Duplicates the stream to a new stream output chain</para>

<para>Options:</para>

<itemizedlist>

<listitem><para><emphasis>dst</emphasis>: A new stream output chain of
modules, as described earlier</para></listitem>

</itemizedlist>

</sect3>

<sect3><title>transcode</title>

<para>Changes the codec and/or bitrates for a stream</para>

<para>Options:</para>

<itemizedlist>

<listitem><para><emphasis>acodec</emphasis>: the new audio codec.
It can be one of <emphasis>mpga</emphasis> (MPEG audio layer
2), <emphasis>a52</emphasis> or <emphasis>ac3</emphasis>
(AC3 sound), <emphasis>wma1</emphasis> (Windows Media Audio
1), <emphasis>wma2</emphasis> (Windows Media Audio 2),
<emphasis>vorb</emphasis> (Vorbis)</para></listitem>

<listitem><para><emphasis>ab</emphasis>: audio bitrate in Kbps</para></listitem>

<listitem><para><emphasis>samplerate</emphasis>: audio encoding rate in Hz
(44000 for a CD, for exemple).</para></listitem>

<listitem><para><emphasis>channels</emphasis>: number of audio
channels</para></listitem>

<listitem><para><emphasis>vcodec</emphasis>: the new video codec. It can be
one of <emphasis>mp4v</emphasis> (MPEG4), <emphasis>mpgv</emphasis>
(MPEG1), <emphasis>DIV1</emphasis>, <emphasis>DIV2</emphasis>,
<emphasis>DIV3</emphasis> (DivX 1,2,3), <emphasis>H263</emphasis>
(H263), <emphasis>I263</emphasis> (H263I), <emphasis>WMV1</emphasis>
or <emphasis>WMV2</emphasis> (Windows Media Video 1 or 2),
<emphasis>MJPG</emphasis> (MJPEG), <emphasis>MJPB</emphasis> (MJPEGB),
<emphasis>dvsl</emphasis> (DV), <emphasis>SVQ1</emphasis> (Sorenson v1),
<emphasis>SVQ3</emphasis> (Soreson v3, aka QuickTime)</para></listitem>

<listitem><para><emphasis>width</emphasis>: video width</para></listitem>
<listitem><para><emphasis>heighy</emphasis>: video height</para></listitem>

<listitem><para><emphasis>vb</emphasis>: video bitrate in kbps</para></listitem>
<listitem><para><emphasis>vt</emphasis>: video bitrate tolerance in kbps</para></listitem>

<listitem><para><emphasis>deinterlace</emphasis>: indicates whether transcode
has to deinterlace the stream</para></listitem>


<listitem><para><emphasis>croptop</emphasis>: top crop</para></listitem>
<listitem><para><emphasis>cropbottom</emphasis>: bottom crop</para></listitem>
<listitem><para><emphasis>cropleft</emphasis>: left crop</para></listitem>
<listitem><para><emphasis>cropright</emphasis>: right crop</para></listitem>

<listitem><para><emphasis>hq</emphasis>: ?</para></listitem>
<listitem><para><emphasis>qmin</emphasis>: ?</para></listitem>
<listitem><para><emphasis>qmax</emphasis>: ?</para></listitem>

</itemizedlist>

</sect3>

<sect3><title>Miscellaneous</title>

<para>Here are a few additional global options</para>

<itemizedlist>

<listitem><para><emphasis>--no-sout-audio</emphasis> disables audio
stream output.</para></listitem>

<listitem><para><emphasis>--no-sout-video</emphasis> disables video
stream output.</para></listitem>

</itemizedlist>

<para>The stream output also offers a simplified syntax, tha only lets you use the <emphasis>standard</emphasis> module:</para>

<screen>
<prompt>% </prompt><userinput>vlc stream --sout access/mux:url</userinput>
</screen>

<para> with access, mux and url as defined as in the options of the
standard module</para>

</sect3> 

</sect2>

