<chapter id="vls"><title id="tvls">Stream with VLS</title>


<sect1><title>Installing VLS</title>
&install-vls;
</sect1>

<sect1><title>Running VLS from the command line</title>

<sect2><title>Unicast an MPEG-1, MPEG-2 or MPEG-4 file</title>

<screen>
<prompt>% </prompt><userinput>vls -vv -d udp:client.example.org file:/media/video/video1.vob</userinput>
</screen>

<para>where <filename>/media/video/video1.vob</filename> is
the MPEG file you want to stream (it must be in MPEG-1 PS,
MPEG-2 PS, MPEG-2 TS, MPEG-4 PS or MPEG-4 TS format) and
<emphasis>client.example.org</emphasis> is the DNS name of the client
you want to stream to (you can put an IP address instead).</para>

<para>When you want to stop VLS, use the key combination
<keycombo><keycap>Ctrl</keycap><keycap>c</keycap></keycombo>.</para>

<para>If you want to stream the file continuously, use the
<emphasis>--loop</emphasis> option :</para>

<screen>
<prompt>% </prompt><userinput>vls -vv -d udp:client.example.org --loop file:/media/video/video1.vob</userinput>
</screen>

</sect2>

<sect2><title>Unicast a DVD</title>

<screen>
<prompt>% </prompt><userinput>vls -vv -d udp:client.example.org dvd:/dev/dvd</userinput>
</screen>

<para>where <filename>/dev/dvd</filename> is the device corresponding
to your DVD drive or the directory where you copied your DVD, and
<emphasis>client.example.org</emphasis> is the DNS name of the client
you want to stream to (you can put an IP address instead).


<note>
<para>

You must have write access to the device corresponding to your DVD
drive. For that, you should be in the <emphasis>disk</emphasis>
or <emphasis>cdrom</emphasis> group (look at the permissions in
<filename>/dev</filename>). If you're not, add yourself to the group :

</para>

<screen>
<prompt># </prompt><userinput>adduser your_login disk_or_cdrom</userinput>
</screen>

<para>and then restart your session.</para>
</note>

</sect2>

<sect2><title>Multicast an MPEG file or a DVD</title>

<screen>
<prompt>% </prompt><userinput>vls -vv -d udp:239.255.12.42 --ttl 12 file:/media/video/video1.vob</userinput>
</screen>

<para>where <emphasis>file:/media/video/video1.vob</emphasis> is the
MPEG file you want to stream (use <emphasis>dvd:/dev/dvd</emphasis>
instead if you want to stream a DVD), <emphasis>239.255.12.42</emphasis>
is the multicast IP address you want to stream on and
<emphasis>12</emphasis> is the value of the TTL (Time To Live) of your
IP packets (which means that the multicast stream will be able to cross
11 routers).</para>

</sect2>

</sect1>

</chapter>
